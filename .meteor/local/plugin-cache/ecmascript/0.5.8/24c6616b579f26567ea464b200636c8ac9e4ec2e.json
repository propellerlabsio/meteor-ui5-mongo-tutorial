{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/propellerlabsio:meteor-ui5-mongo/model/DocumentListBinding.js","filenameRelative":"/packages/propellerlabsio:meteor-ui5-mongo/model/DocumentListBinding.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/propellerlabsio:meteor-ui5-mongo/model/DocumentListBinding.js.map","sourceFileName":"/packages/propellerlabsio:meteor-ui5-mongo/model/DocumentListBinding.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"DocumentListBinding"},"ignored":false,"code":"\"use strict\";\nsap.ui.define([\"jquery.sap.global\", \"sap/ui/model/ListBinding\", \"sap/ui/model/Context\", \"sap/ui/model/ChangeReason\", \"sap/ui/model/Filter\"], function (a, b, c, d, e) {\n  var f = b.extend(\"meteor-ui5-mongo.model.DocumentListBinding\", { constructor: function () {\n      function constructor(a, c, d, e, f, g) {\n        b.call(this, a, c, d, e, f, g), this._aContexts = [], this._runQuery();\n      }\n\n      return constructor;\n    }() });return f.prototype.getContexts = function (a, b) {\n    var c = void 0 === a ? 0 : a,\n        d = void 0 === b ? this.oModel.iSizeLimit - c : b;return this._aContexts.slice(c).splice(0, d);\n  }, f.prototype.destroy = function () {\n    this._oQueryHandle && this._oQueryHandle.stop();\n  }, f.prototype.filter = function (b, c) {\n    return this.aFilters = [], !a.isArray(b) && b instanceof e ? b = [b] : a.isArray(b) || (b = []), this.aApplicationFilters = b, this._runQuery(), this;\n  }, f.prototype.sort = function (a) {\n    return Array.isArray(a) ? this.aSorters = a : this.aSorters = [a], this._runQuery(), this;\n  }, f.prototype.getLength = function () {\n    return this._aContexts.length;\n  }, f.prototype.isLengthFinal = function () {\n    return !1;\n  }, f.prototype.getDistinctValues = function (a) {\n    return null;\n  }, f.prototype._runQuery = function () {\n    var a = this;this._oQueryHandle && this._oQueryHandle.stop(), this._aContexts = [], this._fireChange(d.remove);var b = this.oModel.runQuery(this.sPath, this.oContext, this.aSorters, this.aApplicationFilters);this._oQueryHandle = b.observeChanges({ addedBefore: function () {\n        function addedBefore(b, e, f) {\n          var g = a._getDocumentPath(b),\n              h = new c(a.oModel, g);if (f) {\n            var i = a._getDocumentPath(f),\n                j = a._getContextIndex(i);a._aContexts.splice(j, 0, h);\n          } else a._aContexts.push(h);a.fireDataReceived(), a._fireChange(d.add);\n        }\n\n        return addedBefore;\n      }(), changed: function () {\n        function changed() {\n          a.oModel.refresh();\n        }\n\n        return changed;\n      }(), removed: function () {\n        function removed(b) {\n          var c = a._getDocumentPath(b),\n              d = a._getContextIndex(c);a._aContexts.splice(d, 1), a.oModel.refresh();\n        }\n\n        return removed;\n      }() });\n  }, f.prototype._getDocumentPath = function (a) {\n    return this.sPath + \"(\" + a.toString() + \")\";\n  }, f.prototype._getContextIndex = function (a) {\n    return this._aContexts.findIndex(function (b) {\n      return b.sPath === a;\n    });\n  }, f;\n});","ast":null,"map":{"version":3,"sources":["/packages/propellerlabsio:meteor-ui5-mongo/model/DocumentListBinding.js"],"names":[],"mappings":"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","file":"/packages/propellerlabsio:meteor-ui5-mongo/model/DocumentListBinding.js.map","sourcesContent":["\"use strict\";sap.ui.define([\"jquery.sap.global\",\"sap/ui/model/ListBinding\",\"sap/ui/model/Context\",\"sap/ui/model/ChangeReason\",\"sap/ui/model/Filter\"],function(a,b,c,d,e){var f=b.extend(\"meteor-ui5-mongo.model.DocumentListBinding\",{constructor:function(a,c,d,e,f,g){b.call(this,a,c,d,e,f,g),this._aContexts=[],this._runQuery()}});return f.prototype.getContexts=function(a,b){var c=void 0===a?0:a,d=void 0===b?this.oModel.iSizeLimit-c:b;return this._aContexts.slice(c).splice(0,d)},f.prototype.destroy=function(){this._oQueryHandle&&this._oQueryHandle.stop()},f.prototype.filter=function(b,c){return this.aFilters=[],!a.isArray(b)&&b instanceof e?b=[b]:a.isArray(b)||(b=[]),this.aApplicationFilters=b,this._runQuery(),this},f.prototype.sort=function(a){return Array.isArray(a)?this.aSorters=a:this.aSorters=[a],this._runQuery(),this},f.prototype.getLength=function(){return this._aContexts.length},f.prototype.isLengthFinal=function(){return!1},f.prototype.getDistinctValues=function(a){return null},f.prototype._runQuery=function(){var a=this;this._oQueryHandle&&this._oQueryHandle.stop(),this._aContexts=[],this._fireChange(d.remove);var b=this.oModel.runQuery(this.sPath,this.oContext,this.aSorters,this.aApplicationFilters);this._oQueryHandle=b.observeChanges({addedBefore:function(b,e,f){var g=a._getDocumentPath(b),h=new c(a.oModel,g);if(f){var i=a._getDocumentPath(f),j=a._getContextIndex(i);a._aContexts.splice(j,0,h)}else a._aContexts.push(h);a.fireDataReceived(),a._fireChange(d.add)},changed:function(){a.oModel.refresh()},removed:function(b){var c=a._getDocumentPath(b),d=a._getContextIndex(c);a._aContexts.splice(d,1),a.oModel.refresh()}})},f.prototype._getDocumentPath=function(a){return this.sPath+\"(\"+a.toString()+\")\"},f.prototype._getContextIndex=function(a){return this._aContexts.findIndex(function(b){return b.sPath===a})},f});"]},"hash":"24c6616b579f26567ea464b200636c8ac9e4ec2e"}
